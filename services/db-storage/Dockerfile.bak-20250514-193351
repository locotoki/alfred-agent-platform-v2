FROM node:18-alpine

WORKDIR /app

# Copy package.json and create a minimal package
COPY package.json .
RUN echo '{"name":"mock-storage-api","version":"1.0.0","private":true}' > package.json && \
    npm install express cors

# Copy mock storage service
COPY mock-storage.js .

# Expose port
EXPOSE 5000

# Start the mock service
CMD ["node", "mock-storage.js"]